{"version":3,"sources":["components/Navigation.tsx","Style.ts","Util.ts","components/Checkbox.tsx","components/Dropdown.tsx","components/Hero.tsx","views/Login.tsx","views/Register.tsx","views/Manage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Styled","Navigation","styled","div","isLoggedIn","localStorage","getItem","href","onClick","removeItem","Color","fetch","query","a","options","method","headers","Accept","Authorization","body","JSON","stringify","window","response","json","data","console","log","Checkbox","label","props","checked","onChange","type","Dropdown","id","selected","title","map","option","index","value","Hero","done","Input","Text","p","linkTypeOptions","description","linkAnalyticsOptions","useState","isShortened","setIsShortened","isMine","setIsMine","url","setUrl","linkType","linkAnalytics","setOption","inputRef","useRef","numShortened","setNumShortened","numClicked","setNumClicked","useEffect","socket","io","on","Util","then","stats","minifiedIndex","visitedIndex","disconnect","handleOptionChange","name","event","target","handleSubmit","preventDefault","variables","isObscured","result","shortenUrl","hash","className","onSubmit","placeholder","current","select","ref","Page","Form","form","Login","useForm","register","errors","email","password","loginUser","token","setItem","location","required","Register","repassword","registerUser","List","Card","Content","Manage","list","setList","setSelected","isUpdatingUrl","setIsUpdatingUrl","updatedUrl","setUpdatedUrl","getList","listOwnURLs","x","find","format","Date","parseInt","createdAt","updateUrl","success","confirm","removeUrl","handleDeleteClick","App","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.6cf95f5a.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport AccountIcon from 'mdi-react/AccountIcon';\r\nimport MenuIcon from 'mdi-react/MenuIcon';\r\nimport ExitToAppIcon from 'mdi-react/ExitToAppIcon';\r\nimport { Color } from '../Style';\r\n\r\nconst Styled = {\r\n  Navigation: styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 2em;\r\n    box-sizing: border-box;\r\n    background-color: #351064;\r\n\r\n    a {\r\n      text-decoration: none;\r\n    }\r\n\r\n    h1 {\r\n      color: #e9d8ff;\r\n    }\r\n\r\n    > div > div {\r\n      display: flex;\r\n\r\n      > a {\r\n        margin-left: 16px;\r\n      }\r\n    }\r\n\r\n    a {\r\n      display: flex;\r\n      align-items: center;\r\n      color: #e9d8ff;\r\n\r\n      svg {\r\n        margin-left: 0.5em;\r\n      }\r\n    }\r\n  `,\r\n};\r\n\r\nexport const Navigation: React.FC = () => {\r\n  const isLoggedIn = !!localStorage.getItem('token');\r\n\r\n  return (\r\n    <Styled.Navigation>\r\n      <a href=\"/\">\r\n        <h1>Via</h1>\r\n      </a>\r\n\r\n      <div>\r\n        {!isLoggedIn && (\r\n          <a href=\"/login\">\r\n            Sign In <AccountIcon />\r\n          </a>\r\n        )}\r\n        {isLoggedIn && (\r\n          <div>\r\n            <a\r\n              href=\"/\"\r\n              onClick={() => {\r\n                localStorage.removeItem('token');\r\n              }}\r\n            >\r\n              Sign Out <ExitToAppIcon />\r\n            </a>\r\n            <a href=\"/manage\">\r\n              My Links <MenuIcon />\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Styled.Navigation>\r\n  );\r\n};\r\n","export const Color = {\r\n  primary: '#49227B',\r\n  action: '#a474e0',\r\n  text: '#C99FFF',\r\n};\r\n\r\nexport const Font = {\r\n  header: `'Playfair Display', serif`,\r\n  body: `'Roboto', sans-serif`,\r\n};\r\n","const apiURL = '/graphql';\r\n\r\nexport const fetch = async (query: any) => {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n    body: JSON.stringify(query),\r\n  };\r\n\r\n  try {\r\n    const response = await window.fetch(apiURL, options);\r\n    const json = await response.json();\r\n    return json.data;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return false;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport CheckboxBlankIcon from 'mdi-react/CheckboxBlankIcon';\r\nimport CheckboxMarkedIcon from 'mdi-react/CheckboxMarkedIcon';\r\nimport { Color } from '../Style';\r\n\r\nconst Styled = {\r\n  Checkbox: styled.label<{ checked: boolean }>`\r\n    position: relative;\r\n    display: block;\r\n    height: 32px;\r\n    padding-left: 44px;\r\n    line-height: 32px;\r\n    user-select: none;\r\n    cursor: pointer;\r\n\r\n    input {\r\n      position: absolute;\r\n      opacity: 0;\r\n      cursor: pointer;\r\n      height: 0;\r\n      width: 0;\r\n    }\r\n\r\n    svg {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      height: 32px;\r\n      width: 32px;\r\n      fill: ${(props) => (props.checked ? '#fff' : Color.action)};\r\n    }\r\n  `,\r\n};\r\n\r\nexport const Checkbox: React.FC<{\r\n  label: string;\r\n  checked: boolean;\r\n  onChange: (event: any) => void;\r\n}> = ({ label, checked, onChange }) => {\r\n  return (\r\n    <Styled.Checkbox checked={checked}>\r\n      {label}\r\n      <input type=\"checkbox\" checked={checked} onChange={onChange} />\r\n      {checked ? <CheckboxMarkedIcon /> : <CheckboxBlankIcon />}\r\n    </Styled.Checkbox>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\r\nimport { Color } from '../Style';\r\n\r\nconst Styled = {\r\n  Dropdown: styled.div`\r\n    position: relative;\r\n    display: inline-block;\r\n    margin: 0 4px;\r\n    padding-right: 24px;\r\n    z-index: 1;\r\n    color: #f5edff;\r\n\r\n    &:before {\r\n      content: '';\r\n      display: block;\r\n      position: absolute;\r\n      bottom: -1px;\r\n      left: -2px;\r\n      width: calc(100% + 4px);\r\n      height: 8px;\r\n      background-color: #6835a8;\r\n      z-index: -1;\r\n    }\r\n\r\n    svg {\r\n      position: absolute;\r\n      margin: -2px 0 0 0;\r\n    }\r\n\r\n    select {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      left: 0;\r\n      top: 0;\r\n      opacity: 0;\r\n      cursor: pointer;\r\n    }\r\n  `,\r\n};\r\n\r\nexport interface IDropdownOption {\r\n  title: string;\r\n  description: string;\r\n}\r\n\r\nexport const Dropdown: React.FC<{\r\n  id: string;\r\n  selected: number;\r\n  options: IDropdownOption[];\r\n  onChange: (event: any) => void;\r\n}> = ({ id, selected, options, onChange }) => {\r\n  const selectedOption = options[selected];\r\n\r\n  return (\r\n    <Styled.Dropdown>\r\n      <b>{options[selected].title}</b>\r\n      <ChevronDownIcon />\r\n\r\n      <select id={id} onChange={onChange}>\r\n        {options.map((option, index) => (\r\n          <option value={index} selected={selected === index}>\r\n            {option.title}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </Styled.Dropdown>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Color } from '../Style';\r\nimport * as Util from '../Util';\r\nimport ArrowRightCircleOutlineIcon from 'mdi-react/ArrowRightCircleOutlineIcon';\r\nimport CheckboxMarkedCircleOutlineIcon from 'mdi-react/CheckboxMarkedCircleOutlineIcon';\r\nimport ArrowBottomLeftThickIcon from 'mdi-react/ArrowBottomLeftThickIcon';\r\nimport io from 'socket.io-client';\r\n\r\nimport { Checkbox } from './Checkbox';\r\nimport { Dropdown } from './Dropdown';\r\n\r\nconst Styled = {\r\n  Hero: styled.div<{ done: boolean }>`\r\n    display: flex;\r\n    padding: 200px;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: ${Color.primary};\r\n    box-sizing: border-box;\r\n    color: ${Color.text};\r\n\r\n    .side {\r\n      flex: 1;\r\n\r\n      &.text {\r\n        flex: initial;\r\n        width: 550px;\r\n\r\n        p {\r\n          font-size: 1.5em;\r\n        }\r\n      }\r\n    }\r\n\r\n    h1 {\r\n      font-size: 4em;\r\n      color: #e9d8ff;\r\n    }\r\n\r\n    h3 {\r\n      position: relative;\r\n      margin-left: 32px;\r\n      padding-left: 28px;\r\n\r\n      svg {\r\n        position: absolute;\r\n        left: 0;\r\n      }\r\n    }\r\n\r\n    form {\r\n      input {\r\n        padding: 16px;\r\n        width: 100%;\r\n        font-size: 2em;\r\n        border-radius: 6px 0 0 6px;\r\n        background-color: ${(props) => (props.done ? '#fff' : '#c99fff')};\r\n        border: none;\r\n        outline: none;\r\n\r\n        &::placeholder {\r\n          color: #814cc6;\r\n          opacity: 1;\r\n        }\r\n      }\r\n    }\r\n  `,\r\n  Input: styled.div<{ done: boolean }>`\r\n    display: flex;\r\n    margin: 32px 0;\r\n\r\n    button {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 70px;\r\n      width: 120px;\r\n      background-image: none;\r\n      border: none;\r\n      outline: none;\r\n      border-radius: 0 6px 6px 0;\r\n      background-color: ${(props) => (props.done ? '#fff' : '#a474e0')};\r\n\r\n      svg {\r\n        width: 32px;\r\n        height: 32px;\r\n        fill: #49227b;\r\n      }\r\n    }\r\n  `,\r\n  Text: styled.p`\r\n    font-size: 1.2em;\r\n  `,\r\n};\r\n\r\nconst linkTypeOptions = [\r\n  {\r\n    title: 'as short as possible',\r\n    description:\r\n      'The link will be short and sweet. This is the best option when sharing something publicly, like on Twitter.',\r\n  },\r\n  {\r\n    title: 'impossible to quess',\r\n    description:\r\n      'The link will be long and extremely hard to guess. Pick this option when privacy is a concern.',\r\n  },\r\n  /*\r\n  {\r\n    title: 'secured with a password',\r\n    description:\r\n      'The link will be short, but only those with the password can access it.',\r\n  },\r\n  */\r\n];\r\n\r\nconst linkAnalyticsOptions = [\r\n  {\r\n    title: 'I want to see',\r\n    description:\r\n      'You will have access to an admin page where detailed usage statistics can be viewed.',\r\n  },\r\n  {\r\n    title: 'I dont want to see',\r\n    description:\r\n      'The amount of clicks will be visible, but no detailed statistics will be recorded.',\r\n  },\r\n  {\r\n    title: 'I dont want anyone to see',\r\n    description:\r\n      'Nothing will be recorded from this link. This option requires the link to have a deadline.',\r\n  },\r\n];\r\n\r\nconst shortenedBaseUrl = 'http://localhost:3001/';\r\n\r\nexport const Hero: React.FC = () => {\r\n  const isLoggedIn = !!localStorage.getItem('token');\r\n\r\n  const [isShortened, setIsShortened] = useState<boolean>(false);\r\n  const [isMine, setIsMine] = useState<boolean>(isLoggedIn);\r\n  const [url, setUrl] = useState<string>('');\r\n  const [option, setOption] = useState<{\r\n    linkType: number;\r\n    linkAnalytics: number;\r\n  }>({ linkType: 0, linkAnalytics: 0 });\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [numShortened, setNumShortened] = useState<string>('...');\r\n  const [numClicked, setNumClicked] = useState<string>('...');\r\n\r\n  useEffect(() => {\r\n    const socket = io('http://localhost:3001');\r\n\r\n    socket.on('minifiedIndex', (data: number) => {\r\n      setNumShortened('' + data);\r\n    });\r\n\r\n    socket.on('visitedIndex', (data: number) => {\r\n      setNumClicked('' + data);\r\n    });\r\n\r\n    Util.fetch({\r\n      query: `\r\n        {\r\n          stats {\r\n            minifiedIndex,\r\n            visitedIndex\r\n          }\r\n        }\r\n      `,\r\n    }).then((data) => {\r\n      if (data && data.stats) {\r\n        setNumShortened('' + data.stats.minifiedIndex);\r\n        setNumClicked('' + data.stats.visitedIndex);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleUrlChange = (event: any) => {\r\n    if (isShortened) return;\r\n    setUrl(event.target.value);\r\n  };\r\n\r\n  const handleUrlClick = (event: any) => {\r\n    if (!isShortened) return;\r\n    inputRef.current?.select();\r\n  };\r\n\r\n  const handleMineChange = (event: any) => {\r\n    setIsMine(event.target.checked);\r\n  };\r\n\r\n  const handleOptionChange = (name: string) => (event: any) => {\r\n    setOption({ ...option, [name]: event.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (event: any) => {\r\n    event.preventDefault();\r\n\r\n    if (isShortened) return;\r\n\r\n    const result = await Util.fetch({\r\n      query: `\r\n        mutation Shorten($url: String!, $isObscured: Boolean!, $isMine: Boolean!) {\r\n          shortenUrl(url: $url, isObscured: $isObscured, isMine: $isMine) {\r\n            hash\r\n          }\r\n        }\r\n      `,\r\n      variables: {\r\n        url,\r\n        isObscured: option.linkType == 1,\r\n        isMine,\r\n      },\r\n    });\r\n\r\n    if (result && result.shortenUrl && result.shortenUrl.hash) {\r\n      setUrl(`${shortenedBaseUrl}${result.shortenUrl.hash}`);\r\n      setIsShortened(true);\r\n    } else {\r\n      setUrl('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Styled.Hero done={isShortened}>\r\n      <div className=\"side text\">\r\n        <h1>\r\n          Share with\r\n          <br />\r\n          confidence\r\n        </h1>\r\n        <p>\r\n          Shorten your links with <b>Via</b>\r\n          <br />\r\n          and gain back control\r\n        </p>\r\n\r\n        <ul>\r\n          <li>\r\n            <b>{numShortened}</b> links shortened\r\n          </li>\r\n          <li>\r\n            <b>{numClicked}</b> links clicked\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"side\">\r\n        <form onSubmit={handleSubmit}>\r\n          <h3>\r\n            <ArrowBottomLeftThickIcon />\r\n            Just paste any link here and see the magic happen\r\n          </h3>\r\n\r\n          <Styled.Input done={isShortened}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"https://\"\r\n              value={url}\r\n              onChange={handleUrlChange}\r\n              onClick={handleUrlClick}\r\n              ref={inputRef}\r\n            />\r\n\r\n            {!isShortened ? (\r\n              <button type=\"submit\">\r\n                <ArrowRightCircleOutlineIcon />\r\n              </button>\r\n            ) : (\r\n              <button>\r\n                <CheckboxMarkedCircleOutlineIcon />\r\n              </button>\r\n            )}\r\n          </Styled.Input>\r\n\r\n          <Styled.Text>\r\n            I want my link to be{' '}\r\n            <Dropdown\r\n              id=\"linkType\"\r\n              selected={option.linkType}\r\n              options={linkTypeOptions}\r\n              onChange={handleOptionChange('linkType')}\r\n            />\r\n            <br />\r\n            and{' '}\r\n            <Dropdown\r\n              id=\"linkAnalytics\"\r\n              selected={option.linkAnalytics}\r\n              options={linkAnalyticsOptions}\r\n              onChange={handleOptionChange('linkAnalytics')}\r\n            />{' '}\r\n            how it is used.\r\n          </Styled.Text>\r\n\r\n          {isLoggedIn && (\r\n            <Checkbox\r\n              label=\"Link this URL to my account\"\r\n              checked={isMine}\r\n              onChange={handleMineChange}\r\n            />\r\n          )}\r\n\r\n          {/*\r\n          <input type=\"email\" placeholder=\"Email\" />\r\n          <input type=\"password\" placeholder=\"Password\" />\r\n          <input type=\"date\" placeholder=\"Time\" />\r\n          */}\r\n        </form>\r\n      </div>\r\n    </Styled.Hero>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport styled from 'styled-components';\r\nimport { Color } from '../Style';\r\nimport * as Util from '../Util';\r\n\r\nconst Styled = {\r\n  Page: styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: ${Color.primary};\r\n  `,\r\n  Form: styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 2em;\r\n    width: 300px;\r\n    border-radius: 6px;\r\n    background-color: #fff;\r\n\r\n    h2 {\r\n      margin: 0 0 1em 0;\r\n      text-align: center;\r\n    }\r\n\r\n    p {\r\n      margin: 2em 0 0 0;\r\n      text-align: center;\r\n      font-size: 0.8em;\r\n    }\r\n  `,\r\n  Input: styled.div`\r\n    margin-bottom: 1em;\r\n\r\n    label {\r\n      display: block;\r\n      margin-bottom: 4px;\r\n      font-size: 0.8em;\r\n    }\r\n\r\n    input {\r\n      padding: 8px;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n    }\r\n  `,\r\n};\r\n\r\nexport const Login: React.FC = () => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  const onSubmit = async (data: any) => {\r\n    const result = await Util.fetch({\r\n      query: `\r\n        mutation Login($email: String!, $password: String!) {\r\n          loginUser(email: $email, password: $password) {\r\n            token\r\n          }\r\n        }\r\n      `,\r\n      variables: {\r\n        email: data.email,\r\n        password: data.password,\r\n      },\r\n    });\r\n\r\n    if (result && result.loginUser && result.loginUser.token) {\r\n      localStorage.setItem('token', result.loginUser.token);\r\n      window.location.href = '/';\r\n    } else {\r\n      // TODO: Show error\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Styled.Page>\r\n      <Styled.Form onSubmit={handleSubmit(onSubmit)}>\r\n        <h2>Sign In</h2>\r\n\r\n        <Styled.Input>\r\n          <label>Email</label>\r\n          <input ref={register({ required: true })} name=\"email\" type=\"email\" />\r\n        </Styled.Input>\r\n        <Styled.Input>\r\n          <label>Password</label>\r\n          <input\r\n            ref={register({ required: true })}\r\n            name=\"password\"\r\n            type=\"password\"\r\n          />\r\n        </Styled.Input>\r\n\r\n        <button type=\"submit\">Login</button>\r\n\r\n        <p>\r\n          No account yet? <a href=\"/register\">Create a new account.</a>\r\n        </p>\r\n      </Styled.Form>\r\n    </Styled.Page>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport styled from 'styled-components';\r\nimport { Color } from '../Style';\r\nimport * as Util from '../Util';\r\n\r\nconst Styled = {\r\n  Page: styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: ${Color.primary};\r\n  `,\r\n  Form: styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 2em;\r\n    width: 300px;\r\n    border-radius: 6px;\r\n    background-color: #fff;\r\n\r\n    h2 {\r\n      margin: 0 0 1em 0;\r\n      text-align: center;\r\n    }\r\n\r\n    p {\r\n      margin: 2em 0 0 0;\r\n      text-align: center;\r\n      font-size: 0.8em;\r\n    }\r\n  `,\r\n  Input: styled.div`\r\n    margin-bottom: 1em;\r\n\r\n    label {\r\n      display: block;\r\n      margin-bottom: 4px;\r\n      font-size: 0.8em;\r\n    }\r\n\r\n    input {\r\n      padding: 8px;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n    }\r\n  `,\r\n};\r\n\r\nexport const Register: React.FC = () => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  const onSubmit = async (data: any) => {\r\n    if (data.password != data.repassword) return;\r\n\r\n    const result = await Util.fetch({\r\n      query: `\r\n        mutation Register($email: String!, $password: String!) {\r\n          registerUser(email: $email, password: $password) {\r\n            token\r\n          }\r\n        }\r\n      `,\r\n      variables: {\r\n        email: data.email,\r\n        password: data.password,\r\n      },\r\n    });\r\n\r\n    if (result && result.registerUser && result.registerUser.token) {\r\n      localStorage.setItem('token', result.registerUser.token);\r\n      window.location.href = '/';\r\n    } else {\r\n      // TODO: Show error\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Styled.Page>\r\n      <Styled.Form onSubmit={handleSubmit(onSubmit)}>\r\n        <h2>Register</h2>\r\n\r\n        <Styled.Input>\r\n          <label>Email</label>\r\n          <input ref={register({ required: true })} name=\"email\" type=\"email\" />\r\n        </Styled.Input>\r\n        <Styled.Input>\r\n          <label>Password</label>\r\n          <input\r\n            ref={register({ required: true })}\r\n            name=\"password\"\r\n            type=\"password\"\r\n          />\r\n        </Styled.Input>\r\n        <Styled.Input>\r\n          <label>Re-Password</label>\r\n          <input\r\n            ref={register({ required: true })}\r\n            name=\"repassword\"\r\n            type=\"password\"\r\n          />\r\n        </Styled.Input>\r\n\r\n        <button type=\"submit\">Register</button>\r\n\r\n        <p>\r\n          Already have an account? <a href=\"/login\">Login.</a>\r\n        </p>\r\n      </Styled.Form>\r\n    </Styled.Page>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\nimport styled from 'styled-components';\r\nimport LinkIcon from 'mdi-react/LinkIcon';\r\nimport * as Util from '../Util';\r\nimport { Color } from '../Style';\r\n\r\nconst Styled = {\r\n  Page: styled.div`\r\n    display: flex;\r\n    background-color: ${Color.primary};\r\n  `,\r\n  List: styled.div`\r\n    width: 300px;\r\n  `,\r\n  Card: styled.div`\r\n    margin: 16px 0 0 16px;\r\n    padding: 16px;\r\n    background-color: #5a328e;\r\n    border-radius: 4px;\r\n    user-select: none;\r\n    cursor: pointer;\r\n\r\n    h4 {\r\n      margin: 0;\r\n      font-weight: normal;\r\n      color: #e9d8ff;\r\n    }\r\n\r\n    > p {\r\n      margin: 0.5em 0 0 0;\r\n      font-size: 0.8em;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      color: #c99fff;\r\n    }\r\n\r\n    div {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      font-size: 0.8em;\r\n      color: #c99fff;\r\n\r\n      p {\r\n        margin: 1.5em 0 0 0;\r\n      }\r\n    }\r\n  `,\r\n  Content: styled.div`\r\n    flex: 1;\r\n    padding-left: 32px;\r\n\r\n    h1 {\r\n      color: #e9d8ff;\r\n    }\r\n\r\n    a {\r\n      display: flex;\r\n      align-items: center;\r\n      color: ${Color.text};\r\n\r\n      svg {\r\n        padding-right: 8px;\r\n      }\r\n    }\r\n\r\n    button {\r\n      padding: 8px;\r\n    }\r\n  `,\r\n};\r\n\r\nconst shortenedBaseUrl = 'http://localhost:3001/';\r\n\r\nexport const Manage: React.FC = () => {\r\n  const [list, setList] = useState<any[]>([]);\r\n  const [selected, setSelected] = useState<any | null>(null);\r\n  const [isUpdatingUrl, setIsUpdatingUrl] = useState<boolean>(false);\r\n  const [updatedUrl, setUpdatedUrl] = useState<string>('');\r\n\r\n  const getList = async () => {\r\n    const result = await Util.fetch({\r\n      query: `\r\n        {\r\n          listOwnURLs {\r\n            hash,\r\n            url,\r\n            title,\r\n            createdAt\r\n          }\r\n        }\r\n      `,\r\n    });\r\n\r\n    if (result && result.listOwnURLs) {\r\n      setList(result.listOwnURLs);\r\n      setSelected(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      await getList();\r\n    })();\r\n  }, []);\r\n\r\n  const handleCardClick = (hash: string) => () => {\r\n    setSelected(list.find((x) => x.hash === hash));\r\n  };\r\n\r\n  const handleDeleteClick = (hash: string) => async () => {\r\n    if (window.confirm('This cannot be reversed. Are you sure?')) {\r\n      const result = await Util.fetch({\r\n        query: `\r\n          mutation Remove($hash: String!) {\r\n            removeUrl(hash: $hash) {\r\n              success\r\n            }\r\n          }\r\n        `,\r\n        variables: {\r\n          hash,\r\n        },\r\n      });\r\n\r\n      if (result.removeUrl.success) {\r\n        await getList();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdateClick = (hash: string) => async () => {\r\n    setIsUpdatingUrl(!isUpdatingUrl);\r\n\r\n    if (isUpdatingUrl && updatedUrl) {\r\n      const result = await Util.fetch({\r\n        query: `\r\n          mutation Update($hash: String!, $url: String!) {\r\n            updateUrl(hash: $hash, url: $url) {\r\n              success\r\n            }\r\n          }\r\n        `,\r\n        variables: {\r\n          hash,\r\n          url: updatedUrl,\r\n        },\r\n      });\r\n\r\n      if (result.updateUrl.success) {\r\n        await getList();\r\n      }\r\n    }\r\n\r\n    setUpdatedUrl('');\r\n  };\r\n\r\n  return (\r\n    <Styled.Page>\r\n      <Styled.List>\r\n        {list.map((x) => (\r\n          <Styled.Card onClick={handleCardClick(x.hash)}>\r\n            <h4>{x.title}</h4>\r\n            <p>{x.url}</p>\r\n            <div>\r\n              <p>1 Click</p>\r\n              <p>{format(new Date(parseInt(x.createdAt)), 'dd.MM.yyyy')}</p>\r\n            </div>\r\n          </Styled.Card>\r\n        ))}\r\n      </Styled.List>\r\n      <Styled.Content>\r\n        {selected && (\r\n          <>\r\n            <h1>{selected.title}</h1>\r\n            <p>\r\n              <a href={selected.url}>\r\n                <LinkIcon /> {selected.url}\r\n              </a>\r\n            </p>\r\n            <p>\r\n              <a href={`${shortenedBaseUrl}${selected.hash}`}>\r\n                <LinkIcon /> {`${shortenedBaseUrl}${selected.hash}`}\r\n              </a>\r\n            </p>\r\n            {isUpdatingUrl && (\r\n              <input\r\n                type=\"text\"\r\n                value={updatedUrl}\r\n                onChange={(event: any) => setUpdatedUrl(event.target.value)}\r\n              />\r\n            )}\r\n            <button onClick={handleUpdateClick(selected.hash)}>Update</button>\r\n            <button onClick={handleDeleteClick(selected.hash)}>Delete</button>\r\n          </>\r\n        )}\r\n      </Styled.Content>\r\n    </Styled.Page>\r\n  );\r\n};\r\n","import React from 'react';\nimport { Navigation } from './components/Navigation';\nimport { Hero } from './components/Hero';\nimport { Login } from './views/Login';\nimport { Register } from './views/Register';\nimport { Manage } from './views/Manage';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <Navigation />\n      <Switch>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/manage\">\n          <Manage />\n        </Route>\n        <Route path=\"/\">\n          <Hero />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}